<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Advanced Lighting for Unstructured-Grid Data</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- LightBox -->
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Advanced Lighting for Unstructured-Grid Data</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

      <div class="starter-template">

        <h1 class="page-header">Comparison to ray tracing</h1>
        <p>Local lighting (left), our method (middle), ray tracing (1 shadow ray) (right). Illumination is performed with a single directional light source.</p>
        <div class="row comp_rt">
          <div class="col-md-4"><a href="img/liftedflame_oh_1_local.png" data-toggle="lightbox" data-title="Local lighting" data-gallery="multiimages" data-parent=".comp_rt"><img src="img/liftedflame_oh_1_local.png" class="img-thumbnail"/></a></div>
          <div class="col-md-4"><a href="img/liftedflame_oh_1_grid_based.png" data-toggle="lightbox" data-title="Our method" data-gallery="multiimages" data-parent=".comp_rt"><img src="img/liftedflame_oh_1_grid_based.png" class="img-thumbnail"/></a></div>
          <div class="col-md-4"><a href="img/liftedflame_oh_1_shadow_ray.png" data-toggle="lightbox" data-title="Ray tracing (1 shadow ray)" data-gallery="multiimages" data-parent=".comp_rt"><img src="img/liftedflame_oh_1_shadow_ray.png" class="img-thumbnail"/></a></div>
        </div>
        <br/>
        <p>Performance numbers:</p>
        <table class="table table-striped">
          <thead>
            <tr><th>Method</th><th>Rendering</th><th>Light Volume Construction</th></tr>
          </thead>
          <tbody>
            <tr><td>Local lighting</td><td>328 ms</td><td>N/A</td></tr>
            <tr><td>Our method</td><td>328 ms</td><td>831 ms</td></tr>
            <tr><td>Ray tracing</td><td>24323 ms</td><td>N/A</td></tr>
          </tbody>
        </table>
        <p>Apparently RT image is sharper. Since we shoot one shadow ray for each sample point, the produced shadows are hard shadows. However, our method keeps most of shade features while the computation time is far less than RT.</p>
        <p><b>Ray tracing implementation</b>  For each step, a shadow ray pointing the light source is shot. the shadow ray samples cell borders and uses pre-integrated TF to evaluate the accumulated alpha value. Scattering effects are not evaluated.</p>


        <h1 class="page-header">Projected Tetrahedra</h1>
        <ul>
          <li>A. Maximo et al.: Hardware-Assisted Projected Tetrahedra</li>
          <li>R. Marroquim et al.: Volume and Isosurface Rendering with GPU-Accelerated Cell Projection</li>
          <li>B. Wylie et al.: Tetrahedral Projection using Vertex Shaders</li>
        </ul>
        <p>Performance test (1024x768) (FPS):</p>
        <table class="table table-striped">
          <thead>
            <tr><th>Dataset</th><th>#Tetrahedra</th><th>Ray Casting</th><th>Projected Tetrahedra</th></tr>
          </thead>
          <tbody>
            <tr><td>parikh (wing w/ attachment)</td><td>567 K</td><td>3.1</td><td>31.9</td></tr>
            <tr><td>lwt (airplane)</td><td>4.6 M</td><td>1.3</td><td>4.2</td></tr>
            <tr><td>ICE (train)</td><td>6.1 M</td><td>4.2</td><td>3.3</td></tr>
            <tr><td>BMW (car)</td><td>24.7 M</td><td>3.2</td><td>0.17</td></tr>
            <tr><td>engine</td><td>6.0 M</td><td>1.3</td><td>3.5</td></tr>
            <tr><td>Drop (bomb)</td><td>935 K</td><td>2.7</td><td>19.6</td></tr>
            <tr><td>LiftedFlame</td><td>3.2 M</td><td>3.1</td><td>8.2</td></tr>
          </tbody>
        </table>
        <p>Performance of ray casting hardly depends on the image size and view angle. PT depends on the number of cells. For big datasets, PT is even slower than ray casting.</p>

        <h1 class="page-header">Performance comparison</h1>
        <p>How to present the performance caomparison? Comparing to naive ray tracing?</p>        


        <h1 id="high_freq_shadows" class="page-header">High frequency shadows</h1>
        <h2 id="backward_light_track">Backward light tracking</h1>
        <ul>
          <li>Purpose: to capture high frequency shadows caused by local occlussion</li>
          <li>Currently no obvious difference found. Need to find better examples.</li>
        </ul>
        <h2>Observation</h2>
        <p>Comparison between different scattering coefficient: left: 0.05, right: 0.25</p>
        <div class="row high_freq_shadow">
          <div class="col-md-5"><a href="img/high_freq_shadow_s=0.05.png" data-toggle="lightbox" data-title="sigma_s = 0.05" data-gallery="multiimages" data-parent=".high_freq_shadow"><img src="img/high_freq_shadow_s=0.05.png" class="img-thumbnail"></a></div>
          <div class="col-md-5"><a href="img/high_freq_shadow_s=0.25.png" data-toggle="lightbox" data-title="sigma_s = 0.25" data-gallery="multiimages" data-parent=".high_freq_shadow"><img src="img/high_freq_shadow_s=0.25.png" class="img-thumbnail"></a></div>
        </div>
        <p>Shadow on the droplet can be clearly seen in the left image. So one of the reason that high frequency shadows are missing might be the scattering. However, the problem is that most of droplets are very small (&lt;10 cells), so if we want to keep the very high frequency shadows, the scattering power might not enough to eliminate the unwanted black dots.</p>

        <h1 class="page-header">Slice function</h1>
        <p>Useful for finding interesting structures.</p>
        <div class="row slice">
          <div class="col-md-4"><a href="img/slice_1.png" data-toggle="lightbox" data-title="Slice" data-gallery="multiimages" data-parent=".slice"><img src="img/slice_1.png" class="img-thumbnail"></a></div>
          <div class="col-md-4"><a href="img/slice_2.png" data-toggle="lightbox" data-title="Slice with 2D contours" data-gallery="multiimages" data-parent=".slice"><img src="img/slice_2.png" class="img-thumbnail"></a></div>
          <div class="col-md-4"><a href="img/slice_3.png" data-toggle="lightbox" data-title="2D Contours" data-gallery="multiimages" data-parent=".slice"><img src="img/slice_3.png" class="img-thumbnail"></a></div>
        </div>

        <h1 class="page-header">Lifted Flame dataset</h1>
        <ul>
          <li>Format: VTK XML</li>
          <li>File size: 181 MB</li>
          <li>#Tetrahedra: 3216447</li>
          <li>Attributes: x, y, z, mass_density, pressure, temperature, Mach, Y_H2, Y_H, Y_O2, Y_O, Y_OH, Y_H2O, b_pressure, b_temperature, b_Y_H2, b_Y_O2, b_Y_N2, u, v, w, sb_u, sb_v, sb_w</li>
        </ul>
        <div class="liftedflame">
          <p>Attribute: temperature (no GI / with GI)<br>
            <div class="row">
              <div class="col-md-5"><a href="img/liftedflame_temp_1.png" data-toggle="lightbox" data-title="temperature (no GI)" data-gallery="multiimages" data-parent=".liftedflame"><img src="img/liftedflame_temp_1.png" class="img-thumbnail"></a></div>
              <div class="col-md-5"><a href="img/liftedflame_temp_1_gi.png" data-toggle="lightbox" data-title="temperature (with GI)" data-gallery="multiimages" data-parent=".liftedflame"><img src="img/liftedflame_temp_1_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>

          <p>Attribute: Y_OH (no GI / with GI)<br>
            <div class="row">
              <div class="col-md-5"><a href="img/liftedflame_oh_1.png" data-toggle="lightbox" data-title="Y_OH (no GI)" data-gallery="multiimages" data-parent=".liftedflame"><img src="img/liftedflame_oh_1.png" class="img-thumbnail"></a></div>
              <div class="col-md-5"><a href="img/liftedflame_oh_1_gi.png" data-toggle="lightbox" data-title="Y_OH (with GI)" data-gallery="multiimages" data-parent=".liftedflame"><img src="img/liftedflame_oh_1_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>
        </div>

        <h1 class="page-header">Bomb Drop dataset</h1>
        <ul>
          <li>Format: VTK XML</li>
          <li>File size: 71 MB</li>
          <li>#Tetrahedra: 935410</li>
          <li>Attributes: u, v, w, p(pressure?)</li>
        </ul>
        <div class="drop">
          <p>Attribute: velocity magnitude |(u, v, w)|<br>
            No GI / with GI<br>
            <div class="row">
              <div class="col-md-6"><a href="img/drop_1.png" data-toggle="lightbox" data-title="No GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_1.png" class="img-thumbnail"></a></div>
              <div class="col-md-6"><a href="img/drop_1_gi.png" data-toggle="lightbox" data-title="With GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_1_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>
          <p>Attribute: vorticity magnitude<br>
            No GI / with GI<br>
            <div class="row">
              <div class="col-md-6"><a href="img/drop_vort_1.png" data-toggle="lightbox" data-title="No GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_vort_1.png" class="img-thumbnail"></a></div>
              <div class="col-md-6"><a href="img/drop_vort_1_gi.png" data-toggle="lightbox" data-title="With GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_vort_1_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>
          <p>Slice<br>
            <div class="row">
              <div class="col-md-6"><a href="img/drop_vort_1_slice.png" data-toggle="lightbox" data-title="With GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_vort_1_slice.png" class="img-thumbnail"></a></div>
            </div>
          </p>
          
          <p>Attribute: p(pressure?)<br>
            No GI (connot tell whether the bulge goes forward or backward) / with GI (clearly it goes backword)<br>
            <div class="row">
              <div class="col-md-6"><a href="img/drop_p_1.png" data-toggle="lightbox" data-title="No GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_p_1.png" class="img-thumbnail"></a></div>
              <div class="col-md-6"><a href="img/drop_p_1_gi.png" data-toggle="lightbox" data-title="With GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_p_1_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>
          <p>Another camera angle: No GI / with GI<br>
            <div class="row">
              <div class="col-md-6"><a href="img/drop_p_2.png" data-toggle="lightbox" data-title="No GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_p_2.png" class="img-thumbnail"></a></div>
              <div class="col-md-6"><a href="img/drop_p_2_gi.png" data-toggle="lightbox" data-title="With GI" data-gallery="multiimages" data-parent=".drop"><img src="img/drop_p_2_gi.png" class="img-thumbnail"></a></div>
            </div>
          </p>
        </div>

        <h1 class="page-header">Light volume guided sampling for ray casting</h1>
        <ul>
          <li>To speed up ray casting by omitting occluded regions or to place more samples at critical (bright?) regions.</li>
          <li>TBD.</li>
        </ul>
        
        <h1 class="page-header">Absorption formula</h1>
        <p>Subtle differences. Pre-integration should help with capturing effects of thin layers.</p>
        <ol>
          <li>L' = L * exp(-\sigma_a * alpha * distance)<br>old formula<br>
            <div class="row">
              <div class="col-md-6"><img src="img/absorb_1.png" class="img-thumbnail"></div>
            </div>
          </li>
          <li>L' = L * (1 - (1 - (1-alpha)^(\sigma_a * distance)))<br>using adjusted alpha value<br>
            <div class="row">
              <div class="col-md-6"><img src="img/absorb_2.png" class="img-thumbnail"></div>
            </div>
          </li>
          <li>L' = L * (1-alpha_preintetrated)^\sigma_a<br>using pre-integrated alpha value<br>
            <div class="row">
              <div class="col-md-6"><img src="img/absorb_3.png" class="img-thumbnail"></div>
            </div>
          </li>
        </ol>
        
        <h1 class="page-header">Further work</h1>
        <ul>
          <li>Anisotropic scattering</li>
        </ul>
        <!--<p class="lead">Use this document as a way to quickly start any new project.<br> All you get is this text and a mostly barebones HTML document. aaa bbb ccc ddd ee dfgsdg gregre grfgre rfgreg ergrfg erger greg d</p>-->
      </div>

    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script src="js/ekko-lightbox.min.js"></script>
    <script type="text/javascript">
      $(document).delegate('*[data-toggle="lightbox"]', 'click', function(event) {
        event.preventDefault();
        $(this).ekkoLightbox();
      });
    </script>
  </body>
</html>
